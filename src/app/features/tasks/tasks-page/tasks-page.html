<h2>Liste des tâches</h2>
@if (task$ | async; as tasks) {
  <ul>
    @for (t of tasks; track t.id) {
      <li>
        {{ t.title }}
        <button type="button" (click)="highlight(t)">
          Mettre en avant
        </button>
        <button type="button" (click)="terminateTask(t.id)" >
          @if (!t.completed) {
            ⏳
          } @else {
            ✅
          }
        </button>
        <button type="button" (click)="deleteTask(t.id)">
          ❌
        </button>
      </li>
    }
  </ul>
} @else {
  <p>Chargement des tâches...</p>
}

<hr />

<h3>Actions</h3>
<input
  #taskTitleInput
  type="text"
  placeholder="Titre de la tâche"
  (keyup.enter)="addTask(taskTitleInput.value); taskTitleInput.value = ''"
/>
<button (click)="addTask(taskTitleInput.value); taskTitleInput.value = ''"> Ajouter une tâche</button>
<!--<button (click)="addTask('New task')">Ajouter une tâche</button>-->

<!-- Zone d'injection du composant dynamique -->
<div #highlightContainer></div>
